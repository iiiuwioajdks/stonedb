--source include/have_tianmu.inc

--echo #
--echo # Test INSERT into all supported datatypes
--echo #

--disable_warnings
DROP DATABASE IF EXISTS insert_all_data_types_test;
--enable_warnings

--disable_warnings
set sql_mode= 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION';
--enable_warnings

CREATE DATABASE insert_all_data_types_test;
USE insert_all_data_types_test;

#Test Numeric datatypes
CREATE TABLE t1_sn
(
 t1_BOOLEAN BOOLEAN,
 t1_TINYINT  TINYINT,
 t1_SMALLINT SMALLINT,
 t1_MEDIUMINT MEDIUMINT,
 t1_INT INT,
 t1_BIGINT BIGINT
 );
INSERT INTO t1_sn VALUES(1, -27, -708, -89486, -7483646, -72036854775806);
SELECT * FROM t1_sn;

CREATE TABLE t1
(
 t1_TINYINT_SIGNED TINYINT SIGNED,
 t1_SMALLINT_SIGNED SMALLINT SIGNED,
 t1_MEDIUMINT_SIGNED MEDIUMINT SIGNED,
 t1_INT_SIGNED INT SIGNED,
 t1_BIGINT_SIGNED BIGINT SIGNED
 );
INSERT INTO t1 VALUES(27, 708, 89486, 7483646, 72036854775806);
SELECT * FROM t1;

#Test Decimal datatypes
CREATE TABLE t2_sn
(
 t2_DECIMAL_18_2 DECIMAL(18,2),
 t2_DECIMAL_17_2 DECIMAL(17,2),
 t2_DOUBLE DOUBLE,
 t2_FLOAT FLOAT
 );
INSERT INTO t2_sn VALUES(-99999999999.99, -999999999.99, -1.797693231E+108, -3.402866E+18);
INSERT INTO t2_sn(t2_DECIMAL_17_2) VALUES(999999999.99);
--error 1264
INSERT INTO t2_sn(t2_DECIMAL_17_2) VALUES(9999999999999999.99);
SELECT * FROM t2_sn;

CREATE TABLE t2
(
 t2_DECIMAL_18_2_SIGNED DECIMAL(18,2) SIGNED,
 t2_DECIMAL_17_2_SIGNED DECIMAL(17,2) SIGNED,
 t2_DOUBLE_SIGNED DOUBLE SIGNED,
 t2_FLOAT_SIGNED FLOAT SIGNED
 );
INSERT INTO t2 VALUES(99999999999.99, 999999999.99, 1.797693231E+108, 3.402866E+18);
INSERT INTO t2(t2_DECIMAL_17_2_SIGNED) VALUES(999999998.99);
--error 1264
INSERT INTO t2(t2_DECIMAL_17_2_SIGNED) VALUES(999999998777778888.99);
SELECT * FROM t2;

#Test String datatypes
CREATE TABLE t3
(
 t3_BLOB BLOB,
 t3_TINYBLOB TINYBLOB,
 t3_MEDIUMBLOB MEDIUMBLOB,
 t3_LONGBLOB LONGBLOB,
 t3_CHAR_100 CHAR(100),
 t3_VARCHAR_10 VARCHAR(10),
 t3_VARCHAR_500 VARCHAR(500),
 t3_TEXT TEXT,
 t3_TINYTEXT TINYTEXT,
 t3_MEDIUMTEXT MEDIUMTEXT,
 t3_LONGTEXT LONGTEXT
 );
INSERT INTO t3 VALUES(repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10), repeat('a',10));
SELECT * FROM t3;

#Test Date and Time datatypes
CREATE TABLE t4
(
 t4_DATE DATE,
 t4_DATETIME DATETIME,
 t4_TIME TIME,
 t4_TIME_4 TIME(4),
 t4_TIMESTAMP TIMESTAMP
 );
INSERT INTO t4 VALUES('1997-01-01','2037-01-01 11:22:33','13:09:6','11:55:44','2020-01-01 11:22:33');
SELECT * FROM t4;

#Test with mixed datatypes
CREATE TABLE t5
(
 t5_BIGINT BIGINT,
 t5_DOUBLE DOUBLE,
 t5_FLOAT FLOAT,
 t5_BLOB BLOB,
 t5_TEXT TEXT,
 t5_CHAR_1 CHAR(1),
 t5_DATETIME DATETIME
 );
INSERT INTO t5 VALUES(203685477580676, -3.797693231E+108, -7.402866E+18, repeat('b',100), repeat('b',100), 'b', '2387-11-08 11:22:30.123');
SELECT * FROM t5;

DROP DATABASE insert_all_data_types_test;
