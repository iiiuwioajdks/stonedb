--source include/have_tianmu.inc

--echo #
--echo # Test DIV function
--echo #

--disable_warnings
DROP DATABASE IF EXISTS div_func_test;
--enable_warnings

CREATE DATABASE div_func_test;
USE div_func_test;

CREATE TABLE t1
(
 t1_INT INT,
 t1_DECIMAL DECIMAL(12,5)
 );
INSERT INTO t1 VALUES(1, 1234.567),(20, 111.2345),(24, 98765.4321);

SELECT t1_INT, t1_INT DIV 2 FROM t1 ORDER BY 1;
SELECT t1_INT, t1_INT DIV 2.4 FROM t1 ORDER BY 1;
SELECT t1_INT, t1_INT DIV 4.7 FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL DIV 2 FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL DIV 2.4 FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL DIV 4.7 FROM t1 ORDER BY 1;

SELECT t1_INT DIV 0 FROM t1 LIMIT 1;
SELECT t1_DECIMAL DIV 0 FROM t1 LIMIT 1;

SELECT 0 DIV t1_INT FROM t1 LIMIT 1;
SELECT 0 DIV t1_DECIMAL FROM t1 LIMIT 1;

# Clean UP
DROP DATABASE div_func_test;
